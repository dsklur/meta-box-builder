"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5746],{618:(e,t,n)=>{n.d(t,{A:()=>o});var l=n(5573),a=n(6070);const o=(0,a.jsx)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsx)(l.Path,{d:"m13.06 12 6.47-6.47-1.06-1.06L12 10.94 5.53 4.47 4.47 5.53 10.94 12l-6.47 6.47 1.06 1.06L12 13.06l6.47 6.47 1.06-1.06L13.06 12Z"})})},5746:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var l=n(1609),a=n(6427),o=n(6087),c=n(7723),u=n(618),r=n(8468),d=n(5497),m=n(2625);const i=({onClickOutside:e,children:t})=>{const n=(0,o.useRef)();return(0,o.useEffect)((()=>{const t=t=>{n.current&&!n.current.contains(t.target)&&e?.()};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}}),[e]),(0,l.createElement)("div",{ref:n},t)},s=({componentId:e,label:t,defaultValue:n,tooltip:a,onChange:o})=>(0,l.createElement)(d.default,null,(0,l.createElement)("label",{className:"og-toggle"},(0,l.createElement)("input",{type:"checkbox",id:e,onChange:o,defaultChecked:n}),(0,l.createElement)("div",{className:"og-toggle__switch"}),t,a&&(0,l.createElement)(m.default,{id:e,content:a}))),_=({name:e,componentId:t,defaultValue:n,updateField:m,..._})=>{const[p,b]=(0,o.useReducer)((e=>!e),n.sort_clone),[g,h]=(0,o.useReducer)((e=>!e),n.clone_default),[E,f]=(0,o.useReducer)((e=>!e),n.clone_as_multiple),[v,x]=(0,o.useState)(n.min_clone),[C,$]=(0,o.useState)(n.max_clone),[w,y]=(0,o.useState)(n.add_button),k=e=>m("clone",e.target.checked),S=e=>m("clone_empty_start",e.target.checked),V=e=>y(e.target.value),I=(0,o.useCallback)((0,r.debounce)((e=>m("add_button",e)),300),[]);return(0,o.useEffect)((()=>{I(w)}),[w,I]),(0,l.createElement)(l.Fragment,null,(0,l.createElement)(a.Dropdown,{popoverProps:{placement:"bottom-end"},className:"og-clone",contentClassName:"og og-clone__content",focusOnMount:!1,renderToggle:({onToggle:t})=>(0,l.createElement)(l.Fragment,null,(0,l.createElement)("label",{className:"og-status "+(n.clone?"og-status--active":""),onClick:t},(0,c.__)("Cloneable","meta-box-builder")),(0,l.createElement)("input",{type:"hidden",name:`${e.replace("clone_settings","clone")}`,value:n.clone}),(0,l.createElement)("input",{type:"hidden",name:`${e.replace("clone_settings","sort_clone")}`,value:p}),(0,l.createElement)("input",{type:"hidden",name:`${e.replace("clone_settings","clone_default")}`,value:g}),(0,l.createElement)("input",{type:"hidden",name:`${e.replace("clone_settings","clone_empty_start")}`,value:n.clone_empty_start}),(0,l.createElement)("input",{type:"hidden",name:`${e.replace("clone_settings","clone_as_multiple")}`,value:E}),(0,l.createElement)("input",{type:"hidden",name:`${e.replace("clone_settings","min_clone")}`,value:v}),(0,l.createElement)("input",{type:"hidden",name:`${e.replace("clone_settings","max_clone")}`,value:C}),(0,l.createElement)("input",{type:"hidden",name:`${e.replace("clone_settings","add_button")}`,value:w})),renderContent:({onToggle:e})=>(0,l.createElement)(i,{onClickOutside:e},(0,l.createElement)(a.Button,{icon:u.A,onClick:e,iconSize:16}),(0,l.createElement)(s,{label:(0,c.__)("Make the field cloneable","meta-box-builder"),defaultValue:n.clone,componentId:`${t}-clone`,onChange:k}),(0,l.createElement)(s,{label:(0,c.__)("Start with no inputs","meta-box-builder"),tooltip:(0,c.__)('Show no inputs at first except the "+ Add more" button',"meta-box-builder"),onChange:S,defaultValue:n.clone_empty_start,componentId:`${t}-clone_empty_start`}),(0,l.createElement)(s,{label:(0,c.__)("Allow to reorder clones","meta-box-builder"),onChange:b,defaultValue:p,componentId:`${t}-sortable`}),(0,l.createElement)(s,{label:(0,c.__)("Set default values for new clones","meta-box-builder"),onChange:h,defaultValue:g,componentId:`${t}-clone_default`}),(0,l.createElement)(s,{label:(0,c.__)("Save in multiple rows","meta-box-builder"),tooltip:(0,c.__)("Save each clone in a single row instead of saving all clones in one serialized row in the database","meta-box-builder"),onChange:f,defaultValue:E,componentId:`${t}-clone_as_multiple`}),(0,l.createElement)(d.default,{label:(0,c.__)("Number of clones","meta-box-builder")},(0,l.createElement)("div",{className:"og-input-group"},(0,l.createElement)("label",{htmlFor:`${t}-min_clone`},(0,c.__)("Min","meta-box-builder")),(0,l.createElement)("input",{type:"number",min:"0",id:`${t}-min_clone`,defaultValue:v,onChange:e=>x(e.target.value)}),(0,l.createElement)("label",{htmlFor:`${t}-max_clone`},(0,c.__)("Max","meta-box-builder")),(0,l.createElement)("input",{type:"number",min:"0",id:`${t}-max_clone`,defaultValue:C,onChange:e=>$(e.target.value)}))),(0,l.createElement)(d.default,{htmlFor:`${t}-add_button`,label:(0,c.__)("Add more text","meta-box-builder"),description:(0,c.__)('Custom text for the the "+ Add more" button. Leave empty to use the default text.',"meta-box-builder")},(0,l.createElement)("input",{type:"text",id:`${t}-add_button`,value:w,onChange:V})))}))}}}]);