"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3878],{3878:(e,a,t)=>{t.r(a),t.d(a,{default:()=>o});var l=t(1609),u=t(6087),n=t(7723),r=t(5497),c=t(1712),d=t(6497);const s=({name:e,keysList:a,valuesList:t,item:r,remove:d,keyPlaceholder:s,valuePlaceholder:o,updateItem:i})=>{const[v,b]=(0,u.useState)(t),k=(e,a)=>{e.current.value=a;const l=1==m(t)?t:t[a]?t[a]:t.default;b(l||[])},p=(e,a)=>{e.current.value=a,i(r.id,"value",a)};return(0,l.createElement)("div",{className:"og-attribute"},(0,l.createElement)("input",{type:"hidden",name:`${e}[id]`,defaultValue:r.id}),(0,l.createElement)(c.default,{placeholder:s,name:`${e}[key]`,defaultValue:r.key,items:a,onSelect:k,onChange:k}),(0,l.createElement)(c.default,{placeholder:o,name:`${e}[value]`,defaultValue:r.value,items:v,onSelect:p,onChange:p}),(0,l.createElement)("a",{href:"#",className:"og-remove",onClick:()=>d(r.id)},(0,n.__)("Remove","meta-box-builder")))},m=e=>Object(e)===e?1+Math.max(-1,...Object.values(e).map(m)):0,o=({defaultValue:e,name:a,keyPlaceholder:t=(0,n.__)("Enter key","meta-box-builder"),valuePlaceholder:c=(0,n.__)("Enter value","meta-box-builder"),keys:m=[],values:o=[],description:i="",className:v="og-attribute-wrapper",updateField:b,...k})=>{e=e||{};const p=t=>{const l={...e};delete l[t],b(a,l)},h=(t,l,u)=>b(a,{...e,[t]:{...e[t],[l]:u}});return(0,l.createElement)(r.default,{className:v,...k},i&&(0,l.createElement)(u.RawHTML,{className:"og-description"},i),Object.values(e||{}).map((e=>(0,l.createElement)(s,{key:e.id,item:e,remove:p,name:`${a}[${e.id}]`,keysList:m,values:`${a}-values`,valuesList:o,keyPlaceholder:t,valuePlaceholder:c,updateItem:h}))),(0,l.createElement)("button",{type:"button",className:"button",onClick:()=>{const t={key:"",value:"",id:(0,d.x8)()};b(a,{...e,[t.id]:t})}},(0,n.__)("+ Add New","meta-box-builder")))}}}]);