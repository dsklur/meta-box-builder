"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[71],{5071:(e,d,i)=>{i.r(d),i.d(d,{default:()=>a});var t=i(1609),l=i(7723),n=i(3366),s=i(9174),r=i(5497),o=i(1712);const a=({name:e,componentId:d,field:i,updateField:a,...f})=>{const{getPrefix:u}=(0,n.A)();let c=(0,s.Ay)(i._id)((e=>e.fields));const _=["background","button","custom_html","divider","heading","tab","group"];return c=c.filter((e=>!_.includes(e.type))).map((e=>[e.id,`${e.name} (${e.id})`])),c=[["{#}",(0,l.__)("Entry index (#)","meta-box-builder")],...c],(0,t.createElement)(r.default,{className:"og-group-title",htmlFor:d,...f},(0,t.createElement)(o.default,{id:d,defaultValue:i.group_title,items:c,onChange:(e,d)=>a("group_title",d),onSelect:(e,d)=>{const i="{#}"===d?d:`{${u()}${d}}`;e.current.value+=i,a("group_title",e.current.value)}}))}},9174:(e,d,i)=>{i.d(d,{Ay:()=>c,k8:()=>a});var t=i(7723),l=i(5688),n=i.n(l),s=i(4446),r=i(8314);document.body.dataset.navPanel="field-group-settings";const o=(0,s.vt)(((e,d)=>({navPanel:"field-group-settings",setNavPanel:i=>{d().navPanel!==i&&(e((e=>({navPanel:i}))),document.body.dataset.navPanel=i)}}))),a=new Map,f=({id:e="",fields:d=[]})=>{if(a.has(e))return a.get(e);const i=(0,s.vt)(((i,l)=>({id:e,fields:d,addFieldAt:(e,d)=>{const{fields:t}=l();if(d<0||d>t.length)return void console.error(`%cInvalid position: ${d}.`,"color:red");const n=(e=>{const d=`${e}_${(0,r.x8)()}`;return{_id:d,_new:!0,type:e,id:d,name:(0,r.Cv)(e,"_")}})(e);i((e=>({fields:[...e.fields.slice(0,d),n,...e.fields.slice(d)]}))),"group"===e&&f({id:n._id,fields:[]})},addField:e=>l().addFieldAt(e,l().fields.length),prependField:e=>l().addFieldAt(e,0),addFieldBefore:(e,d)=>l().addFieldAt(d,l().fields.findIndex((d=>d._id===e))),addFieldAfter:(e,d)=>l().addFieldAt(d,l().fields.findIndex((d=>d._id===e))+1),duplicateField:e=>{const{fields:d}=l(),n=d.find((d=>d._id===e));if(!n)return;const s=structuredClone(n),o=`${s.type}_${(0,r.x8)()}`;delete s._active,delete s._id_changed,delete s.chosen,delete s.selected,s._original_id=n._id,s.id=o,s._id=o,s.name+=(0,t.__)(" (Copy)","meta-box-builder"),i((d=>{const i=d.fields.findIndex((d=>d._id===e));let t=[...d.fields];return t.splice(i+1,0,s),{fields:t}}));const u=e=>f({id:e._id,fields:c(e)}),c=e=>a.get(e._original_id).getState().fields.map((e=>{e._original_id=e._id;const d=`${e.type}_${(0,r.x8)()}`;return e.id=d,e._id=d,"group"===e.type&&u(e),e}));"group"===s.type&&u(s)},removeField:e=>{const{navPanel:d,setNavPanel:t}=o.getState();i((d=>({fields:d.fields.filter((d=>d._id!==e))}))),"field-settings"===d&&t("")},updateField:(e,d,t)=>{const s=l().fields.find((d=>d._id===e));if(!s)return;if(n().get(s,d)===t)return;const r=structuredClone(s);n().set(r,d,t),i((d=>({fields:d.fields.map((d=>d._id===e?r:d))})))},moveFieldUp:e=>i((d=>{const i=d.fields.findIndex((d=>d._id===e));if(i<=0)return d;let t=[...d.fields];return[t[i-1],t[i]]=[t[i],t[i-1]],{fields:t}})),moveFieldDown:e=>i((d=>{const i=d.fields.findIndex((d=>d._id===e));if(i>=d.fields.length-1)return d;let t=[...d.fields];return[t[i],t[i+1]]=[t[i+1],t[i]],{fields:t}})),setFields:e=>{var d,t;d=l().fields,t=e,d.length===t.length&&d.every(((e,d)=>e._id===t[d]._id))||i({fields:e})}})));return a.set(e,i),i},u=(e,d)=>{let i=(0,r.eC)(e.fields);i=i.filter((e=>e.type)),f({id:d,fields:i}),i.forEach((e=>{"group"===e.type&&u(e,e._id)}))};u(MbbApp,"root");const c=e=>{if(a.has(e))return a.get(e);console.error(`%cList with id "${e}" not found.`,"color:red")}}}]);