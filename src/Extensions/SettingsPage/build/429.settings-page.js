"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[429],{1429:(e,t,i)=>{i.r(t),i.d(t,{default:()=>u});var d=i(1609),l=i(7723),n=i(6213),a=i(3366),o=i(5497),r=i(1712);const s=e=>"term"===e?[["cb",(0,l.__)("Checkbox","meta-box-builder")],["name",(0,l.__)("Name","meta-box-builder")],["description",(0,l.__)("Description","meta-box-builder")],["slug",(0,l.__)("Slug","meta-box-builder")],["count",(0,l.__)("Count","meta-box-builder")]]:"user"===e?[["cb",(0,l.__)("Checkbox","meta-box-builder")],["username",(0,l.__)("Username","meta-box-builder")],["name",(0,l.__)("Name","meta-box-builder")],["email",(0,l.__)("Email","meta-box-builder")],["role",(0,l.__)("Role","meta-box-builder")],["posts",(0,l.__)("Posts","meta-box-builder")]]:[["cb",(0,l.__)("Checkbox","meta-box-builder")],["title",(0,l.__)("Title","meta-box-builder")],["author",(0,l.__)("Author","meta-box-builder")],["categories",(0,l.__)("Categories","meta-box-builder")],["tags",(0,l.__)("Tags","meta-box-builder")],["comments",(0,l.__)("Comments","meta-box-builder")],["date",(0,l.__)("Date","meta-box-builder")]],u=({componentId:e,defaultValue:t,updateField:i,...u})=>{const{getObjectType:c}=(0,a.A)(),_=c(),f={term:"name",user:"username"}[_]||"title";let m,b,p=(0,n.A)().filter((e=>["text","select"].includes(e.type))).map((e=>[e.id,`${e.name} (${e.id})`]));if(p=[...s(_),...p],"string"==typeof t){const e=t.split(" ");m=e[0]||"after",b=e[1]||f}else m=t.type||"after",b=t.column||f;return(0,d.createElement)(o.default,{...u},(0,d.createElement)("select",{defaultValue:m,onChange:e=>i("admin_columns.position.type",e.target.value)},(0,d.createElement)("option",{value:"after"},(0,l.__)("After","meta-box-builder")),(0,d.createElement)("option",{value:"before"},(0,l.__)("Before","meta-box-builder")),(0,d.createElement)("option",{value:"replace"},(0,l.__)("Replace","meta-box-builder"))),(0,d.createElement)(r.default,{id:e,defaultValue:b,items:p,isID:!0,exclude:s(_),onChange:(e,t)=>i("admin_columns.position.column",t),onSelect:(e,t)=>{e.current.value=t,i("admin_columns.position.column",t)}}))}},6213:(e,t,i)=>{i.d(t,{A:()=>n});var d=i(6087),l=i(9174);const n=()=>{const[e,t]=(0,d.useState)([]);return(0,d.useEffect)((()=>{const e=[],i=()=>{const e=Array.from(l.k8.values()).flatMap((e=>e.getState().fields));t(e)};return l.k8.forEach((t=>{const d=t.subscribe((()=>{i()}));e.push(d)})),i(),()=>{e.forEach((e=>e()))}}),[]),e}},9174:(e,t,i)=>{i.d(t,{Ay:()=>_,k8:()=>s});var d=i(7723),l=i(5688),n=i.n(l),a=i(4446),o=i(8314);document.body.dataset.navPanel="field-group-settings";const r=(0,a.vt)(((e,t)=>({navPanel:"field-group-settings",setNavPanel:i=>{t().navPanel!==i&&(e((e=>({navPanel:i}))),document.body.dataset.navPanel=i)}}))),s=new Map,u=({id:e="",fields:t=[]})=>{if(s.has(e))return s.get(e);const i=(0,a.vt)(((i,l)=>({id:e,fields:t,addFieldAt:(e,t)=>{const{fields:d}=l();if(t<0||t>d.length)return void console.error(`%cInvalid position: ${t}.`,"color:red");const n=(e=>{const t=`${e}_${(0,o.x8)()}`;return{_id:t,_new:!0,type:e,id:t,name:(0,o.Cv)(e,"_")}})(e);i((e=>({fields:[...e.fields.slice(0,t),n,...e.fields.slice(t)]}))),"group"===e&&u({id:n._id,fields:[]})},addField:e=>l().addFieldAt(e,l().fields.length),prependField:e=>l().addFieldAt(e,0),addFieldBefore:(e,t)=>l().addFieldAt(t,l().fields.findIndex((t=>t._id===e))),addFieldAfter:(e,t)=>l().addFieldAt(t,l().fields.findIndex((t=>t._id===e))+1),duplicateField:e=>{const{fields:t}=l(),n=t.find((t=>t._id===e));if(!n)return;const a=structuredClone(n),r=`${a.type}_${(0,o.x8)()}`;delete a._active,delete a._id_changed,delete a.chosen,delete a.selected,a._original_id=n._id,a.id=r,a._id=r,a.name+=(0,d.__)(" (Copy)","meta-box-builder"),i((t=>{const i=t.fields.findIndex((t=>t._id===e));let d=[...t.fields];return d.splice(i+1,0,a),{fields:d}}));const c=e=>u({id:e._id,fields:_(e)}),_=e=>s.get(e._original_id).getState().fields.map((e=>{e._original_id=e._id;const t=`${e.type}_${(0,o.x8)()}`;return e.id=t,e._id=t,"group"===e.type&&c(e),e}));"group"===a.type&&c(a)},removeField:e=>{const{navPanel:t,setNavPanel:d}=r.getState();i((t=>({fields:t.fields.filter((t=>t._id!==e))}))),"field-settings"===t&&d("")},updateField:(e,t,d)=>{const a=l().fields.find((t=>t._id===e));if(!a)return;if(n().get(a,t)===d)return;const o=structuredClone(a);n().set(o,t,d),i((t=>({fields:t.fields.map((t=>t._id===e?o:t))})))},moveFieldUp:e=>i((t=>{const i=t.fields.findIndex((t=>t._id===e));if(i<=0)return t;let d=[...t.fields];return[d[i-1],d[i]]=[d[i],d[i-1]],{fields:d}})),moveFieldDown:e=>i((t=>{const i=t.fields.findIndex((t=>t._id===e));if(i>=t.fields.length-1)return t;let d=[...t.fields];return[d[i],d[i+1]]=[d[i+1],d[i]],{fields:d}})),setFields:e=>{var t,d;t=l().fields,d=e,t.length===d.length&&t.every(((e,t)=>e._id===d[t]._id))||i({fields:e})}})));return s.set(e,i),i},c=(e,t)=>{let i=(0,o.eC)(e.fields);i=i.filter((e=>e.type)),u({id:t,fields:i}),i.forEach((e=>{"group"===e.type&&c(e,e._id)}))};c(MbbApp,"root");const _=e=>{if(s.has(e))return s.get(e);console.error(`%cList with id "${e}" not found.`,"color:red")}}}]);